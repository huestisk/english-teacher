<SpeechBubble>:

    sb: speech_bubble
    size_hint: (0.8, 0.45)
    pos_hint: {'center_x':0.5, 'y':0.5}
    background_color: (0, 0, 1, .2)

    BubbleButton:
        id: speech_bubble
        text: ""
        text_size: 0.8*self.width, None
        halign: 'center'
        color:  0, 0, 0, 1
        font_size: '20sp'

<ContainerBox>:

    text_field: keyboard_input
    text_button: text_button
    voice_button: voice_recognition
    next_question_button: next_question
    prev_question_button: prev_question
    label: label
    score_button: score_button

    robot: robot

    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    Image:
        id: robot
        source: 'frontend/images/robot.png'
        pos_hint: {'x':0, 'y':-0.15}

    TextInput:
        id: keyboard_input
        focus: False
        hint_text: 'Enter Text Here'
        multiline: False
        font_size: '20sp'
        pos_hint: {'x':.3, 'y':.05}
        size_hint: (0.4, 0.1)
        padding: [10, 15, 10, 10]

    Button:
        id: text_button
        pos_hint: {'x':.7, 'y':.05}
        size_hint: (0.1, 0.1)
        text: "Enter"
        font_size: '20sp'
        on_press: root.keyboard_input()

    Button:
        id: voice_recognition
        pos_hint: {'x':.2, 'y':.05}
        size_hint: (0.1, 0.1)
        border: (0,0,0,0)
        background_normal: 'frontend/images/mic.jpg'
        on_press: root.voice_input(*args)

    Button:
        id: next_question
        pos_hint: {'x':.8, 'y':.05}
        size_hint: (0.1, 0.1)
        text: "Next"
        font_size: '20sp'
        on_press: root.next_question(True)

    Button:
        id: prev_question
        pos_hint: {'x':.1, 'y':.05}
        size_hint: (0.1, 0.1)
        text: "Prev"
        font_size: '20sp'
        on_press: root.prev_question(True)

    Label:
        id: label
        text: "Question"
        color: [ 0/255, 0/255, 0/255, 1]
        font_size: 20
        pos_hint: {'x':.8, 'y':.4}
        size_hint : (.1, .1)

    Button:
        id: score_button
        pos_hint: {'x':.8, 'y':.2}
        size_hint: (0.1, 0.1)
        text: "Results"
        font_size: '20sp'
        on_press: root.show_score()